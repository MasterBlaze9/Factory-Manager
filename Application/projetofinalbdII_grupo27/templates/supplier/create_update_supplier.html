{% extends "base.html" %} {% block content %}

<form method="post">
  <div
    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom"
  >
    {% csrf_token %}
    <h1 class="h2">
      {% if supplier.supplier_id == 0 %}Criar novo {% else %}Editar {% endif %}fornecedor
    </h1>
    <div class="btn-toolbar mb-2 mb-md-0">
      <div class="btn-group"></div>
    </div>
  </div>
  {% if error_message %}
  <div class="mt-3 mb-3">
    <h6 class="text-danger">{{ error_message }}</h6>
  </div>
  {% endif %}
  <div class="mt-3 mb-3">
    <label for="inputName" class="form-label fw-semibold">Nome</label>
    <input
      id="inputName"
      name="name"
      type="text"
      class="form-control"
      placeholder="Nome"
      maxlength="100"
      value="{{ supplier.name }}"
      required
    />
  </div>
  <div class="mb-3">
    <label for="inputAddress" class="form-label fw-semibold">Morada</label>
    <input
      id="inputAddress"
      name="address"
      type="text"
      class="form-control"
      placeholder="Morada"
      maxlength="100"
      value="{{ supplier.address }}"
      required
    />
  </div>
  <div class="mb-3">
    <label for="inputFiscalNumber" class="form-label fw-semibold">NIF</label>
    <input
      id="inputFiscalNumber"
      name="fiscal_number"
      type="number"
      class="form-control"
      placeholder="NIF"
      value="{{ supplier.fiscal_number }}"
      required
    />
  </div>
  <div class="mb-3">
    <label for="multiSelectComponents" class="form-label fw-semibold"
      >Componentes</label
    >
    <select
      id="multiSelectComponents"
      name="components"
      class="form-select form-select-md mb-3 select-multi-components"
      aria-label=".form-select-md"
      multiple
      required
    >
      <option disabled>Selecionar um ou mais componentes</option>
      {% for row in components %}
      <option value="{{ row.0 }}"  {% if row.2 %} selected {% endif %}>{{ row.1|default:"-" }}</option>
      {% endfor %}
    </select>
  </div>
  <a
    id="btnGoBack"
    class="btn btn-secondary me-3"
    href="/supplier/list/"
    >Voltar</a
  >
  <input
    class="btn btn-success float-end"
    type="submit"
    value="Guardar alterações"
  />
</form>

{% endblock %}
