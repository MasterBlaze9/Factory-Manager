{% extends "base.html" %} {% block content %}
<form method="post">
  <div
    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom"
  >
    {% csrf_token %}
    <h1 class="h2">
      {% if equipment.equipment_id == 0 %}Criar novo {% else %}Editar {% endif %}equipamento
    </h1>
    <div class="btn-toolbar mb-2 mb-md-0">
      <div class="btn-group">
      </div>
    </div>
  </div>
  {% if error_message %}
  <div class="mt-3 mb-3">
    <h6 class="text-danger">{{ error_message }}</h6>
  </div>
  {% endif %}
  <div class="mt-3 mb-3">
    <label for="inputDesignation" class="form-label fw-semibold"
      >Designação</label
    >
    <input
      id="inputDesignation"
      name="designation"
      type="text"
      class="form-control"
      placeholder="Designação"
      maxlength="100"
      value="{{ equipment.designation }}"
      required
    />
  </div>

  <div class="mb-3">
    <label for="inputDescription" class="form-label fw-semibold"
      >Descrição</label
    >
    <textarea
      id="inputDescription"
      name="description"
      type="text"
      class="form-control no-resize"
      placeholder="Descrição"
      maxlength="500"
      rows="3"
      required
    >
{{ equipment.description }}</textarea
    >
  </div>

  <div class="mb-3">
    <label for="inputPrice" class="form-label fw-semibold">Preço</label>
    <input
      id="inputPrice"
      name="price"
      type="number"
      step="0.01"
      class="form-control"
      placeholder="Preço"
      value="{{ equipment.price }}"
      required
    />
  </div>

  <div class="mb-4">
    <label for="selectEquipmentType" class="form-label fw-semibold"
      >Tipo de Equipamento</label
    >
    <select
      id="selectEquipmentType"
      name="selectEquipmentType"
      class="form-select"
      aria-label="Selecionar tipo de equipamento"
      required
    >
      <option value="" selected>Selecione tipo de equipamento</option>
      {% for row in equipment_types %} {% if equipment.equipmenttype_id == row.0 %}
      <option value="{{ row.0 }}" selected>{{ row.1 }}</option>
      {% else %}
      <option value="{{ row.0 }}">{{ row.1 }}</option>
      {% endif %} {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <div class="ctn-extra-attributes">
      <label class="form-label fw-semibold">Atributo extra</label>
      <hr class="ctn-extra-attributes-hr__margin--half" />
      <div class="row">
        <div class="col-3">
          <label for="inputExtraAttributeLabel" class="form-label fw-semibold"
            >Nome do atributo</label
          >
          <input
            id="inputExtraAttributeLabel"
            name="extra_attribute_label"
            type="text"
            class="form-control"
            value="{{ equipment.extra_attribute_label }}"
          />
        </div>
        <div class="col-9">
          <label for="inputExtraAttributeValue" class="form-label fw-semibold"
            >Valor</label
          >
          <input
            id="inputExtraAttributeValue"
            name="extra_attribute_value"
            type="text"
            class="form-control"
            value="{{ equipment.extra_attribute_value }}"
          />
          <span class="form-text text-muted"
            >Se pretender uma lista de valores, insira-os separados por
            vírgulas</span
          >
        </div>
      </div>
    </div>
  </div>

  <a
    id="btnGoBack"
    class="btn btn-secondary me-3"
    href="/equipment/list/"
    >Voltar</a
  >
  <input
    class="btn btn-success float-end"
    type="submit"
    value="Guardar alterações"
  />
</form>
{% endblock %}
